# TCP Command Service のテスト

このディレクトリには、`tcp_command_svc` パッケージの単体テストおよび結合テストが含まれています。

## テストファイル

*   `test_01_default_server.py`:
    *   **フレームワーク**: Pytest
    *   **目的**: このファイルは、Pytest の基本的な使用法を示すテストを含みます。特に、デフォルトの `tcp_command_svc.sample_server` が提供する `HELLO` および `ECHO` コマンドをテストします。これらのテストは、サーバーがこれらの標準コマンドに正しく応答することを確認します。

*   `test_02_custom_server.py`:
    *   **フレームワーク**: Pytest
    *   **目的**: このファイルは、`samples/custom_server.py` で定義されたカスタムサーバー実装のテストを含みます。カスタムサーバーによって処理される `HELLO`、`ECHO`、`MYCMD`、`STATUS`、および `NOW` コマンドをテストします。`NOW` コマンドについては、引数がない場合と、引数が多すぎる場合の両方のケースをテストし、期待される応答が返されることを確認します。このテストファイルは、Pytest フィクスチャを使用して、カスタムサーバーのライフサイクル（テスト前に起動し、テスト後に停止する）を管理し、クリーンなテスト環境を確保します。

## テストの実行

すべてのテストを実行するには、プロジェクトのルートディレクトリに移動し、以下を実行します。

```bash
uv run pytest
```

詳細な出力付きでテストを実行するには、以下を実行します。

```bash
uv run pytest -v
```
